Вводные
-------

Проект сделан в качестве тестового задания.

Демонстрацию работы данных скриптов можно увидеть по адресу: http://p2a.rulezdev.com - в письме я указал также админский доступ, где можно посмотреть на работу админской консоли. При логине в верхнем меню будет ссылка на админстрацию.

Некоторые вещи в задании были не очевидны, я сделал такие моменты по своему усмотрению, чтобы не тратить время на вопросы, руководствуясь принципом, что тут важен только вид кода, а не сама реализация :)


Требования
------------

Минимальная версия PHP для запуска проекта: 7.0


Установка
------------

Клонировать репозиторий

~~~
git clone https://github.com/steelice/prizes2all.git
cd prizes2all
~~~

После клонирования репозитория, просто запустить в папке с проектом установку всех необходимых модулей с помощью composer:

~~~
composer install
~~~

Затем скопировать файл `config/db.php.dist` в `config/db.php` и поменять в нём настройки БД.

После настройки базы, необходимо установить все таблицы с помощью миграций

~~~
php yii migrate
~~~


Также настроить доступ в своём любимом веб-сервере.
Apache будет поддерживаться из коробки, в случае nginx необходимо провести настройку, ключевые моменты:

~~~
    server_name mysite.test;
    root        /path/to/basic/web;
    index       index.php;

    location / {
        # Redirect everything that isn't a real file to index.php
        try_files $uri $uri/ /index.php$is_args$args;
    }

    # deny accessing php files for the /assets directory
    location ~ ^/assets/.*\.php$ {
        deny all;
    }

    location ~* /\. {
        deny all;
    }
 ~~~

После этого можно заходить на сайт из браузера.
При первом посещении сайта необходимо зарегистрировать пользователя с любой почтой и именем пользователя `admin` - такой пользователь автоматически станет администратором.

Тесты
-------

Тесты запускаются простой командой в папке проекта:

```
vendor/bin/codecept run
```

Тесты в данный момент проводятся в основной таблице. Фикстуры не используются.